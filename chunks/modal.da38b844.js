import{k as _,q as N,u as P,v as z,w as B,p as S,j,c as x,l as k,g as v,r as H,i as b,b as R,h as D,P as G,t as L}from"./web.ae25b5d1.js";function q(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}const F=e=>{let s,a=!0;const[C,m]=_(),[E,g]=_(),M=N(()=>e.children),o=e.name||"s";e=P({name:o,enterActiveClass:o+"-enter-active",enterClass:o+"-enter",enterToClass:o+"-enter-to",exitActiveClass:o+"-exit-active",exitClass:o+"-exit",exitToClass:o+"-exit-to"},e);const{onBeforeEnter:h,onEnter:f,onAfterEnter:A,onBeforeExit:T,onExit:u,onAfterExit:y}=e;function $(t,n){if(!a||e.appear){let i=function(d){t&&(!d||d.target===t)&&(t.removeEventListener("transitionend",i),t.removeEventListener("animationend",i),t.classList.remove(...c),t.classList.remove(...l),S(()=>{C()!==t&&m(t),E()===t&&g(void 0)}),A&&A(t),e.mode==="inout"&&w(t,n))};const r=e.enterClass.split(" "),c=e.enterActiveClass.split(" "),l=e.enterToClass.split(" ");h&&h(t),t.classList.add(...r),t.classList.add(...c),q(()=>{t.classList.remove(...r),t.classList.add(...l),f&&f(t,()=>i()),(!f||f.length<2)&&(t.addEventListener("transitionend",i),t.addEventListener("animationend",i))})}n&&!e.mode?g(t):m(t)}function w(t,n){const r=e.exitClass.split(" "),c=e.exitActiveClass.split(" "),l=e.exitToClass.split(" ");if(!n.parentNode)return i();T&&T(n),n.classList.add(...r),n.classList.add(...c),q(()=>{n.classList.remove(...r),n.classList.add(...l)}),u&&u(n,()=>i()),(!u||u.length<2)&&(n.addEventListener("transitionend",i),n.addEventListener("animationend",i));function i(d){(!d||d.target===n)&&(n.removeEventListener("transitionend",i),n.removeEventListener("animationend",i),n.classList.remove(...c),n.classList.remove(...l),C()===n&&m(void 0),y&&y(n),e.mode==="outin"&&$(t,n))}}return z(t=>{for(s=M();typeof s=="function";)s=s();return B(()=>(s&&s!==t&&(e.mode!=="outin"?$(s,t):a&&m(s)),t&&t!==s&&e.mode!=="inout"&&w(s,t),a=!1,s))}),[C,E]},I=L('<div class="fixed inset-3 flex z-40 pointer-events-none"></div>'),J=L('<div class="fixed inset-0 bg-black-38 z-30"></div>'),K=L("<div></div>"),Q=e=>x(G,{get children(){return[x(F,{enterClass:"opacity-0",exitToClass:"opacity-0",enterActiveClass:"transition-opacity",exitActiveClass:"transition-opacity",get children(){return k(()=>!!e.show(),!0)()&&(()=>{const s=v(J);return s.$$click=()=>!e.persistent&&e.setShow(!1),H(),s})()}}),(()=>{const s=v(I);return b(s,x(F,{enterClass:"opacity-0 transform -translate-y-2",exitToClass:"opacity-0 transform -translate-y-2",enterActiveClass:"transition-all",exitActiveClass:"transition-all",get children(){return k(()=>!!e.show(),!0)()&&(()=>{const a=v(K);return b(a,()=>e.children),R(()=>D(a,`card container max-w-lg m-auto pointer-events-auto ${e.class} ${e.class?.includes("w-")?"":"w-min"}`)),a})()}})),s})()]}});j(["click"]);export{Q as M,F as T};
